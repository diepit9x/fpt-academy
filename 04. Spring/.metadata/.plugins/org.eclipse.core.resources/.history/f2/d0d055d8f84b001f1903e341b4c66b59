<%@page import="models.ResponseData"%>
<%@page import="java.util.List"%>
<%@page import="entities.May"%>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%
    //set title
    request.setAttribute("pageTitle", "Danh sách máy");

    ResponseData responseData = request.getAttribute("responseData") != null ? (ResponseData) request.getAttribute("responseData") : new ResponseData(204, null);
    List<May> mays = (List<May>) responseData.getObject();
%>

<jsp:include page="../../header.jsp" />

<h1 class="pb-2 border-bottom">Danh sách máy</h1>
<div class="flex-row">
  <form action="" method="GET">
    <div class="input-group mb-2 mt-4">
      <input type="text" class="form-control" name="keyword" placeholder="Tìm kiếm..." value="" />
      <div class="input-group-append">
        <button class="btn btn-outline-info" id="searchBtn" type="submit"><i class="fa fa-search"></i></button>
      </div>
    </div>
  </form>
</div>
<div class="flex-row">
  <div class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Mã máy</th>
          <th>Vị trí</th>
          <th>Trạng thái</th>
          <th>Thao tác</th>
        </tr>
      </thead>
      <tbody id="table-body">
        <% if (mays != null) {
            for (May may : mays) { %>
              <tr>
                <td><%= may.getMaMay() %></td>
                <td><%= may.getViTri() %></td>
                <td><%= may.getTrangThai() %></td>
                <td>
                  <a href="may/cap-nhat?maMay=<%= may.getMaMay() %>" class="btn btn-warning edit-may"><i class="fa fa-pencil-square-o"></i></button>
                  <button class="btn btn-danger delete-may"><i class="fa fa-trash-o"></i></button>
                </td>
              </tr>
        <% } } %>
      </tbody>
    </table>
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item disabled">
          <a class="page-link">Previous</a>
        </li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<jsp:include page="../../footer.jsp" />
package fa.training.service;

import java.sql.SQLException;
import java.util.List;

import fa.training.dao.OrderDAO;
import fa.training.dao.OrderDAOImpl;
import fa.training.entities.Customer;
import fa.training.entities.Order;
import fa.training.exception.DataNotFoundException;
import fa.training.util.Constant;

public class OrderService {
    OrderDAO orderDAO = new OrderDAOImpl();
    
    public void getAllOrdersByCustomerId(int customerId) throws SQLException, DataNotFoundException{
	List<Order> orders = orderDAO.getAllOrdersByCustomerId(customerId);
	if (orders.isEmpty()) {
	    throw new DataNotFoundException(Constant.ORDER_LIST_IS_EMPTY);
	}
	System.out.println(String.format("%-20s %-20s %-20s %-20s  %s", "ORDER ID", "ORDER DATE", "CUSTOMER ID", "EMPLOYEE ID", "TOTAL"));
	System.out.println("------------------------------------------------------------------------------------------------------------------");
	for (Customer customer : customers) {
	    String stringFormat = String.format("%-30d %s", customer.getCustomerId(), customer.getCustomerName());
	    System.out.println(stringFormat);
	}
    }

}
